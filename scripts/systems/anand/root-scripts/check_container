arg="$1"
E_SUCCESS="0"
E_WARNING="1"
E_CRITICAL="2"
E_UNKNOWN="3"
state=`curl -X GET --unix-socket /var/run/docker.sock http:/containers/$arg/json | jq '.State.Status' | tr -d "\""`
case $state in
running)
echo "ok"
exit $E_SUCCESS
;;
exited)
echo "stopped"
exit $E_CRITICAL
;;
*)
echo "unknown"
exit $E_CRITICAL
;;
esac
