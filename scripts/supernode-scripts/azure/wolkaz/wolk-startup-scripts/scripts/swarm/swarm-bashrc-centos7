# .bashrc

# User specific aliases and functions

alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'
alias vi='/usr/bin/vim'

# ethereum related aliases
alias gethstart='vi /usr/local/swarmdb/scripts/geth-start.sh'
alias firstime='vi /usr/local/swarmdb/scripts/wolkdb-start-firstime.sh'
alias adminpeers='/var/www/vhosts/go-wolk/build/bin/geth attach /var/www/vhosts/data/geth.ipc --exec admin.peers'
alias adminpeers='/var/www/vhosts/go-wolk/build/bin/geth attach /var/www/vhosts/data/geth.ipc --exec admin.peers'
alias nodeinfo='/var/www/vhosts/go-wolk/build/bin/geth attach /var/www/vhosts/data/geth.ipc --exec admin.nodeInfo'
alias blocknumber='/var/www/vhosts/go-wolk/build/bin/geth attach /var/www/vhosts/data/geth.ipc --exec eth.blockNumber'
alias eth.getbalance='/var/www/vhosts/go-wolk/build/bin/geth attach /var/www/vhosts/data/geth.ipc --exec eth.getBalance\(eth.coinbase\)'
alias geth.account='/var/www/vhosts/go-wolk/build/bin/geth --datadir /var/www/vhosts/data account list 2> /dev/null | awk '{print$3}' | cut -d "{" -f2 | cut -d "}" -f1'
alias gethinit='/var/www/vhosts/go-wolk/build/bin/geth --datadir /var/www/vhosts/data init /var/www/vhosts/data/genesis.json'
alias removedb='/var/www/vhosts/go-wolk/build/bin/geth removedb --datadir /var/www/vhosts/data'

alias geth.attach='/var/www/vhosts/go-wolk/build/bin/geth attach /var/www/vhosts/data/geth.ipc'
alias tail.messages='tail -f /var/log/messages'
if [ -f /usr/bin/docker ]; then
alias docker.attach='/usr/bin/docker attach `/usr/bin/docker ps -l -q`'
fi
if docker ps -q &> /dev/null; then
alias docker.remoteAddress='docker exec `docker ps -l -q` /var/www/vhosts/go-wolk/build/bin/geth attach /var/www/vhosts/data/geth.ipc --exec admin.peers | grep remoteAddress'
fi
if docker ps -q &> /dev/null; then
alias docker.exec='docker exec `docker ps -l -q` $1'
fi

alias bashrc='vi ~/.bashrc'
alias sourcebashrc='source ~/.bashrc'
alias watch='watch '

eth=`ifconfig eth0 | grep inet | awk '{print$2}'`
acct=`/var/www/vhosts/go-wolk/build/bin/geth --datadir /var/www/vhosts/data account list 2> /dev/null | awk '{print$3}' | cut -d "{" -f2 | cut -d "}" -f1`

# Source global definitions
if [ -f /etc/bashrc ]; then
        . /etc/bashrc
fi

export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/go/bin:/usr/lib64/google-cloud-sdk/bin
export PATH=$PATH:/var/www/vhosts/go-wolk/build/bin
export PATH=$PATH:/var/www/vhosts/go-ethereum/build/bin

export GOPATH=/var/www/vhosts/go-wolk/build/_workspace/src/github.com/ethereum/go-ethereum/swarmdb
export GOPATH=$GOPATH:/var/www/vhosts/go-wolk/build/_workspace
export GOPATH=$GOPATH:/var/www/vhosts/go-wolk/swarmdb
export GOROOT=/usr/local/go

if [ -d /var/www/vhosts/data ]; then
DATADIR=/var/www/vhosts/data
fi

if [ -f /var/www/vhosts/data/bootnode.log ]; then
enode=`grep "self=enode:" /var/www/vhosts/data/bootnode.log | head -n1 | awk '{print$6}' | cut -d "=" -f2 | cut -d "@" -f1`
fi

if ifconfig eth0 &> /dev/null; then
ip=`ifconfig eth0 | grep inet | awk '{print$2}' | cut -d ":" -f2 | head -n1`
fi

if [ -d /var/www/vhosts/data ]; then
export DATADIR=/var/www/vhosts/data
fi

if [ -d /var/www/vhosts/data ]; then
cd /var/www/vhosts/data
fi

#set -o ignoreeof
