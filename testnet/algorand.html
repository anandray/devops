<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Wolk</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="description" content="Wolk Trustless HTTP Blockchains" />
  <meta name="robots" content="index, follow" />
  <style>
  #blocknumber_id {
    float: right;
    background-color: #AAFFAA;
    border: 1px solid black;
    margin: 10px;
    padding: 10px;
  }
    th {
      font-size: 10pt;
    }

    .h {
      font-size: 8pt;
    }

    .hn {
      font-size: 8pt;
      text-align: right;
      white-space: nowrap;
    }

    .s0 {
      background-color: #FFEEEE;
    }

    .s1 {
      text-align: center;
      background-color: #EEFFEE;
    }

    .s2 {
      background-color: #EEEEFF;
    }

    .s3 {
      background-color: #FFEEFF;
    }

    .red {
      background-color: #FFAAAA;
      padding: 5px;
      margin: 5px;
    }

    .green {
      background-color: #AAFFAA;
      padding: 5px;
      margin: 5px;
    }

    .final {
      background-color: #AAFFAA;
      padding: 5px;
      margin: 5px;
      border: 2px solid black;
    }

    .tentative {
      background-color: #FFFFAA;
      padding: 5px;
      margin: 5px;
      border: 1px dashed grey;
    }

        .notfound {
          background-color: #AAAAAA;
          padding: 5px;
          margin: 5px;
          border: 1px dashed grey;
        }


    .infosum {
      float: left;
      background: #FFAAAA;
      margin: 2px;
    }

    .networkid {
      float: left;
      background: #FFEEFF;
      margin: 2px;
    }

    .storage {
      background-color: #EEEEEE;
    }

    .secondsago {
      white-space: nowrap;
    }

    .problem {
      color: red;
    }

    .proposer {
      background-color: #00FF00;
      padding: 1px;
      margin: 1px;
      border: 1px solid black;
    }
  </style>
  <script>
  var currentstage = 0;
  var maxblocknumber = 1;
    function resetgc(hostname, project, zone) {
      alert("gcloud compute instances reset " + hostname + " --project " + project + " --zone " + zone);
      return true;
    }

    function resetaws(instanceid, region) {
      alert("aws ec2 reboot-instances --instance-ids " + instanceid + " --region " + region);
      return true;
    }

    function resetalibaba(instanceid, region) {
      alert("aliyuncli ecs RebootInstance --RegionId " + region + " --InstanceId " + instanceid);
      return true;
    }

    function resetazure(instanceid, region) {
      alert("az vm restart -g " + region + " --ids" + instanceid);
      return true;
    }

    function reset(j) {
      var n = registry[j];
      if (n.cloudprovider == "gc") {
        return resetgc(n.hostname, n.project, n.datacenter);
      }
      if (n.cloudprovider == "aws") {
        return resetaws(n.id, n.datacenter);
      }
      if (n.cloudprovider == "alibaba") {
        return resetalibaba(n.id, n.datacenter);
      }
      if (n.cloudprovider == "azure") {
        return resetazure(n.id, n.datacenter);
      }
      alert("Not implemented")
    }

    function terminate() {
      var n = registry[j];
      if (n.cloudprovider == "gc") {
        return terminategc(n.id, n.project, n.datacenter);
      }
      if (n.cloudprovider == "aws") {
        return terminateaws(n.id, n.datacenter);
      }
      if (n.cloudprovider == "alibaba") {
        return terminatealibaba(n.id, n.datacenter);
      }
      if (n.cloudprovider == "azure") {
        return terminateazure(n.id, n.datacenter);
      }
      alert("Not implemented")
    }


    function terminategc(hostname, project, zone) {
      alert("gcloud -q compute instances delete " + hostname + " --zone=" + zone + " --project " + project);
      return true;
    }

    function terminateaws(instanceid, region) {
      alert("aws ec2 terminate-instances --instance-ids " + instanceid + " --region " + region);
      return true;
    }

    function terminateazure(instanceid, region) {
      alert("not implemented"); // TODO
      return true;
    }

    function terminatealibaba(instanceid, region) {
      alert("not implemented"); // TODO
      return true;
    }

    function getlatest() {
      for (var i = 0; i < registry.length; i++) {
        updateinfo(i, registry[i]);
      }
    }

    function bytes_to_mb(b) {
      return (b / (1024 * 1024)).toFixed(0) + "MB";
    }

    function getBlockchainInfo() {
      var port = 443;
      var scheme = "https";
      var info = {
        port: port,
        explorerURL: scheme + "://algorand-0bcj.wolk.com:" + port + "/app/explorer/home.html"
      }
      return info
    }

    var domain = "wolk.com";

    function updateregistry(stage) {
      currentstage = stage;
      maxblocknumber = 1;
      var url = "https://algorand." + domain + "/nodes" + stage + ".js";
      var options = {
        mode: 'no-cors'
      };
      var myRequest = new Request(url, options);
      fetch(myRequest)
        .then(function(response) {
          return response.json();
        })
        .then(function(newregistry) {
          registry = newregistry;
          testnet()
          updatestages();
        })
    }
    function int_to_yn(i) {
      return( i > 0 ? "YES" : "NO");
    }

    function step_to_string(step) {
      switch ( step ) {
    	case 1000:
    		return "PROPOSE"
    	case 1001:
    		return "REDUCTION_ONE"
    	case 1002:
    		return "REDUCTION_TWO"
    	case 1003:
    		return "FINAL"
    	default:
        return step
      }
    }

    function isvoting(dns, isvoting) {
      url = "https://" + dns + "." + domain + "/wolk/isvoting/" + isvoting;
      fetch(url);
    }
    function ismalicious(dns, ismalicious) {
      var url = "https://" + dns + "." + domain + "/wolk/malicious/" + ismalicious;
      fetch(url);
    }
    function networklatency(dns, latency) {
      var url = "https://" + dns + "." + domain + "/wolk/latency/" + latency;
      fetch(url);
    }

    function setisvoting(dns, isvoting) {
      url = "https://" + dns + "." + domain + "/wolk/isvoting/" + isvoting;
      fetch(url);
      return url;
    }
    function setismalicious(dns, ismalicious) {
//      var url = "https://" + dns + "." + domain + "/wolk/malicious/" + ismalicious;
      var latency = 5+Math.floor(Math.random() * 5);
      var url = "https://" + dns + "." + domain + "/wolk/latency/" + latency;
      fetch(url);
      return url;
    }
    function setnetworklatency(dns, latency) {
      var url = "https://" + dns + "." + domain + "/wolk/latency/" + latency;
      fetch(url);
      return url;
    }

    function updateinfo(i, r) {
      var stage = 0;
      var port = 443;
      var scheme = "https";
      var url = scheme + "://" + r.dns + "." + domain + ":" + port + "/wolk/info";

      var bl_id = "bl-" + i;
      var cs_id = "cs-" + i;
      var isv_id = "isv-" + i;
      var mal_id = "mal-" + i;
      var lat_id = "lat-" + i;
      var step_id = "step-" + i;
      var cv_id = "cv-" + i;
      var ev_id = "ev-" + i;
      var tw_id = "tw-" + i;
      var peers_id = "peers-" + i;
      var mem_id = "mem-" + i;
      var cache_id = "cache-" + i;
      var gor_id = "gor-" + i;
      var buildinfosum_id = "bis-" + i;
      var consensus_id = "con-" + i;
      var networkid_id = "networkid-" + i;
      var dns = r.dns + "." + domain;
      var options = {
        mode: 'no-cors'
      };
      fetch(url)
        .then(function(response) {
          return response.json();
        })
        .then(function(info) {

          if (info.peers != undefined) {
            document.getElementById(peers_id).innerHTML = info.peers;
          }
          var base = scheme + "://" + dns + ":" + port
          var str = "";
          var restart = false;
          if (info.blockNumber != undefined) {
            var blockurl = base + "/wolk/block/" + info.blockNumber;
            if ( ( i == 0 ) ||  ( info.blockNumber > maxblocknumber )  ) {
              maxblocknumber = info.blockNumber;
            }
            str = "<a href='" + blockurl + "' target='_new'>" + info.blockNumber + "</a>";
            if (info.isPreemptive != undefined) {
              str += "<BR>" + (info.isPreemptive ? "preemptive" : "")
            }
            if (info.lastBlockMintedSecondsAgo != undefined) {
              if (info.lastBlockMintedSecondsAgo > 60) {
                if (info.lastBlockMintedSecondsAgo > 999) {
                  info.lastBlockMintedSecondsAgo = 999;
                }
                restart = true;
                cl = "problem";
                str += "<BR><span class='secondsago " + cl + "'>" + info.lastBlockMintedSecondsAgo + " secs ago</span>"
              } else {
                cl = "";
                str += "<BR><span class='secondsago'>" + info.lastBlockMintedSecondsAgo + " secs ago</span>"
              }
              if (info.isProposer != undefined) {
                if (info.isProposer) {
                  str += "&nbsp;<span class='proposer'><B>Proposer</B></span>";
                }
              }
            }
            document.getElementById(bl_id).innerHTML = str;
          }
          if (info.consensusStatus != undefined) {
            var str = info.consensusStatus;
            if (info.consensusStatusUpdatedSecondsAgo != undefined) {
              if (info.consensusStatusUpdatedSecondsAgo > 20) {
                cl = "problem";
              } else {
                cl = "";
              }
              str += "<BR><span class=' " + cl + "'>" + info.consensusStatusUpdatedSecondsAgo + " secs ago</span>"
            }
            document.getElementById(cs_id).innerHTML = str;
          }
          if (restart) {
            str += "&nbsp;<a href='javascript:restartalgo(\"" + dns + "\")'>restart</a>";
          }
          if (info.alloc != undefined) {
            var strm = "Alloc:" + bytes_to_mb(info.alloc) + "<BR>Sys:" + bytes_to_mb(info.sys);
            if (info.numConnections != undefined) {
              strm += "<BR>NumConn:" + info.numConnections;
            }
            document.getElementById(mem_id).innerHTML = strm;
          }

          var cstr = ""
          if (info.reserved != undefined && info.proposal != undefined) {
            cstr =  "<code>" + info.proposal.blockHash.substr(0, 8) + "</code> " + info.reserved;
            if (info.hasBlock) {
              cstr += "!";
            } else {
              cstr += "&nbsp;NOT RECEIVED";
            }
          } else {
            cstr = "unknown";
          }
          document.getElementById(consensus_id).innerHTML = cstr;

          if (info.expectedTentative != undefined  && info.expectedFinal != undefined ) {
            cstr = "<h3>" + info.expectedTentative + " / " + info.expectedFinal + "</h3>"
            document.getElementById(ev_id).innerHTML = cstr;
          }

          if (info.tokenWeight != undefined ) {
            cstr = "<h3>" + info.tokenWeight + "</h3>"
            document.getElementById(tw_id).innerHTML = cstr;
          }
          if (info.step != undefined) {
            cstr = "<code>" + step_to_string(info.step) + "</code>"
            document.getElementById(step_id).innerHTML = cstr;
          }

          if (info.countVotes != undefined) {
            cstr = "<h2>" + info.countVotes + "</h2>"
            document.getElementById(cv_id).innerHTML = cstr;
          }
          if (info.isVoting != undefined) {
            var isv = ( 1 - info.isVoting );
            var cls = ( info.isVoting > 0 ) ? "green" : "red";
            document.getElementById(isv_id).innerHTML = "<a class='" + cls + "' href='javascript:isvoting(\"" + r.dns + "\"," + isv + ");'>" + int_to_yn(info.isVoting)  + "</a>";
          }
          if (info.isMalicious != undefined) {
            var ism = ( 1 - info.isMalicious );
            var cls = ( info.isMalicious > 0 ) ? "red" : "green";
            document.getElementById(mal_id).innerHTML = "<a class='" + cls + "' href='javascript:ismalicious(\"" + r.dns + "\"," + ism + ");'>" + int_to_yn(info.isMalicious) + "</a>";
          }

          if (info.networkLatency != undefined) {
            var inc = 20;
            var cls = ( info.networkLatency > 0 ) ? "red" : "green";
            document.getElementById(lat_id).innerHTML = "<a class='" + cls + "' href='javascript:networklatency(\"" + r.dns + "\"," + inc + ");'>" + info.networkLatency + "</a>";
          }


          if (info.certs != undefined) {
            var bn = info.blockNumber;
            for (var c = 0; c < info.certs.length; c++) {
              var certstr = "_";
              var cert_id = "cert-" + c + "-" + i;
              var cert = info.certs[info.certs.length - 1 - c];
              var cbn = cert.BlockNumber;
              var diff = (maxblocknumber - cbn);
              certclass = "red";
              if ((diff >= 0) && (diff < 10)) {
                if (cert.Step == 1003 || cert.CountVotes >= info.expectedFinal) {
                  certclass = "final";
                  certstr = "F";
                } else if (cert.Step == 404) {
                  certclass = "notfound";
                  certstr = "";
                } else if (cert.Step > 0) {
                  certclass = "tentative";
                  certstr = "t";
                } else {
                  certclass = "red";
                  certstr = ".";
                }
                var cv = ( cert.CountVotes != undefined ) ? cert.CountVotes : "";
                certstr += "<sub>" + cv + "</sub>";
              }
              var elem = document.getElementById(cert_id)
              if (elem != undefined && certclass != "red") {
                elem.innerHTML = "<span class='" + certclass  + "'><code>" + cert.BlockNumber +  certstr + "</code></span>";
              }
            }
          }

          if (info.numGoroutine != undefined) {
            var pprofurl = base + "/pprof/goroutine/2"
            document.getElementById(gor_id).innerHTML = "<a href='" + pprofurl + "'>" + info.numGoroutine + "</a>";
          }
          if (info.chunkCacheSize != undefined) {
            var str = "StateDB:" + info.stateDBCacheSize;
            if (info.pendingTxCount != undefined) {
              str += "<BR>PendingTX:" + info.pendingTxCount;
            }
            if ((info.fetchChainLength != undefined) && (info.fetchChainLength > 0)) {
              str += "<BR><u>FChainLength:</u>" + info.fetchChainLength;
            }
            if ((info.insertChainLength != undefined) && (info.insertChainLength > 1)) {
              str += "<BR><u>IChainLength:</u>" + info.insertChainLength;
            }
            document.getElementById(cache_id).innerHTML = str;
          }
          if (info.buildInfoSum != undefined) {
            var sum = info.buildInfoSum;
            if (sum.length > 4) {
              sum = sum.substr(0, 4);
            }
            document.getElementById(buildinfosum_id).innerHTML = "<code><span style='background: #" + sum + "'>" + sum + "</span></code>";
          }
          if (info.networkID != undefined) {
            var networkID = info.networkID % 10000;
            document.getElementById(networkid_id).innerHTML = "<code><span style='background: #CC" + networkID + "'>" + networkID + "</span></code>";
          }
        })
        .catch(function(err) {
          document.getElementById(peers_id).innerHTML = "<a href='javascript:restartalgo(\"" + dns + "\")'>unk</a>";
        });
    }

    function restartalgo(dns) {
      alert("restartalgo " + dns);
    }

    function updatestages(nstages) {
      document.getElementById("testnettable").innerHTML = testnet();
      getlatest(0);
    }

    var ncerts = 10;
    function testnet() {
      var str = "<table width='100%'>";
      str += "<tr bgcolor='#EECCCC'>";
      str += "<th width=150>Cloudstore Host</th>";
      str += "<th width=50>Node</th>";
      str += "<th width=100>Public IP</th>";
      str += "<th width=75><a href='javascript:getlatest(0);'>BN</a></th>";
      str += "<th width=75>Proposal</th>";
      str += "<th width=40>Voting</th>";
      str += "<th width=40>Malicious</th>";
      str += "<th width=40>Latency</th>";
      str += "<th width=275>Status</th>";
      str += "<th width=100>Step</th>";
      str += "<th width=60>Votes</th>";
      str += "<th width=80>Exp#</th>";
      str += "<th width=60>Tokens</th>";
      for (var i = 0; i < ncerts; i++) {
        str += "<th width=10>C" + i + "</th>";
      }
      str += "<th width=75>Bld/Peers</th>";
      str += "<th width=75>Mem</th>";
      str += "<th width=75>NID/GoR</th>";
      str += "<th width=75>Cache</th>";
      str += "</tr>";
      for (var j = 0; j < registry.length; j++) {
        var r = registry[j];
        var publicip = r.publicip;

        var nodename = r.dns + "." + domain;
        var cl = "storage";
        if (r.consensus > 0) {
          cl = "consensus";
        }
        var infourl = "https://" + nodename + "/wolk/info";
        var consensusurl = "https://" + nodename + "/wolk/consensus";
        str += "<tr class='h " + cl + "'>";
        str += "<td class='h'><a href='" + infourl + "' target='_new'>" + nodename + "</a><span style='float:right'><a href='javascript:reset(" + j + ");'>reset</a>&nbsp;</span>";
        str += "</td>";
        str += "<td class='h'>" + j;
        str += "<br/>" + r.cloudprovider + "</div>";
        str += "</td><td><code>" + publicip + "</code>";
        str += "<div>" + r.project + "</div>";
        str += "<div>" + r.datacenter + "</div>";
        str += "</td>";
        var i = 0;
        var port = 443;
        str += "<td class='hn s0'><span id='bl-" + j + "'></span></td>";
        str += "<td class='hn s0'><div id='con-" + j + "'></div><a href='" + consensusurl + "' target='_new'>consensus</a></td>";
        str += "<td class='hn s0'><span id='isv-" + j + "'></span></td>";
        str += "<td class='hn s0'><span id='mal-" + j + "'></span></td>";
        str += "<td class='hn s0'><span id='lat-" + j + "'></span></td>";
        str += "<td class='hn s0'><span id='cs-" + j + "'></span></td>";
        str += "<td class='hn s0'><span id='step-" + j + "'></span></td>";
        str += "<td class='hn s0'><span id='cv-" + j + "'></span></td>";
        str += "<td class='hn s0'><span id='ev-" + j + "'></span></td>";
        str += "<td class='hn s0'><span id='tw-" + j + "'></span></td>";
        for (var c = 0; c < ncerts; c++) {
          str += "<td class='hn s0'><span id='cert-" + c + "-" + j + "'></span></td>";
        }
        str += "<td class='hn s0'><span id='peers-" + j + "'>0</span><div class='infosum' id='bis-" + j + "'></div></td>";
        str += "<td class='hn s0'><span id='mem-" + j + "'></span></td>";
        str += "<td class='hn s0'><span class='networkid' id='networkid-" + j + "'></span><span id='gor-" + j + "'></span></td>";
        str += "<td class='hn s0'><span id='cache-" + j + "'></span></td>";
        str += "</tr>";
      }
      str += "</table>";
      return str;
    }

    function getround() {
      return maxblocknumber;
    }

    var lastround_chaosmonkey = 1;

    function runchaosmonkey()
    {
      var e = document.getElementById("strategy");
      var strategy = parseInt(e.options[e.selectedIndex].value, 10);
      if  ( strategy == 4 || strategy == 5 ) {
      }
      var round = getround();
      if ( ( round == undefined ) || ( round == lastround_chaosmonkey ) ) {
        return;
      }
      lastround_chaosmonkey = round;
      console.log("strategy", strategy, "round", round)
      switch ( strategy ) {
        case 1:
          runchaosmonkey1(round)
          break;
        case 2:
          runchaosmonkey2(round)
          break;
        case 3:
          runchaosmonkey3(round)
          break;
        case 4:
          runchaosmonkey4(round)
          break;
        case 5:
          runchaosmonkey5(round)
          break;
      }
    }

    function runchaosmonkey4(round)
    {
      // TODO: turn off half nodes for 2 mins, turn on
    }


    function runchaosmonkey3(round)
    {
      for (var i=0; i < registry.length; i++) {
        cmlog(round, setnetworklatency(registry[i].dns, 5+Math.floor(Math.random() * 20)));
      }
    }

    function runchaosmonkey2(round)
    {
      for (var i=0; i < registry.length; i++) {
        if ( i % 2 == 0 ) {
          cmlog(round, setnetworklatency(registry[i].dns, 5+Math.floor(Math.random() * 20)));
        }
      }
    }

    function runchaosmonkey1(round)
    {
      var N = 10;
      var idx = round % N;
      switch ( idx ) {
        case 0: // add 10-30s latency for 1/8 nodes
          for (var i=0; i < registry.length; i++) {
            if ( i % 8 == 5 ) {
              cmlog(round, setnetworklatency(registry[i].dns, 10+Math.floor(Math.random() * 20)));
            }
          }
          break;
        case 1: // do nothing
          break;
        case 2: // turn off voting for 7th node
          cmlog(round, setisvoting(registry[7].dns, 0));
          break;
        case 3: // turn on voting for 7th node
          cmlog(round, setisvoting(registry[7].dns, 1));
          break;
        case 4: // turn on ismalicious for 6th node
          cmlog(round, setismalicious(registry[6].dns, 1));
          break;
        case 5: // turn off ismalicious for 6th node
          cmlog(round, setismalicious(registry[6].dns, 0));
          break;
        case 6: // turn off voting for first 2 nodes
          for (var i=0; i < 2; i++) {
            cmlog(round, setisvoting(registry[i].dns, 0));
          }
          break;
        case 7: // turn on voting for first 2 nodes
          for (var i=0; i < 2; i++) {
            cmlog(round, setisvoting(registry[i].dns, 1));
          }
          break;
        case 8: // turn on ismalicious for first 2 nodes
          for (var i=0; i < 2; i++) {
              cmlog(round, setismalicious(registry[i].dns, 1));
          }
          break;
        case 9: // turn off ismalicious for first 2 nodes
          for (var i=0; i < 2; i++) {
            cmlog(round, setismalicious(registry[i].dns, 0));
          }
          break;
      }
    }

    var logs = [];
    logs[0] = [];
    logs[1] = [];
    logs[2] = [];
    logs[3] = [];
    logs[4] = [];

    function cmlog(round, url) {
      var d = new Date();
      var t = d.toLocaleTimeString();
      var cmlog_id = "cmlog";
      var elem = document.getElementById(cmlog_id)
      if ( elem != undefined ) {
        var str =  round + "\t" + t + "\t" + url;
        logs[currentstage].push(str);
        if ( logs[currentstage].length > 25 ) {
          logs[currentstage].shift();
        }
        elem.value = logs[currentstage].join("\n");
      }
    }

    function refreshDisplay() {
      setTimeout(function() {
        getlatest(0);
        document.getElementById('blocknumber_id').innerHTML = "<font size='+3'>" + maxblocknumber + "</font>";
        runchaosmonkey(2);
        refreshDisplay();
      }, 500);
    }
    refreshDisplay();
  </script>
  </table>
  <style>
    .prob {
      color: red;
    }
  </style>
</head>
<body onload="updateregistry(0)">
  <span id="blocknumber_id"></span>
  <h3>got wolk://? Testnets</h3>
  [<script>
    for (var i = 0; i < 4; i++) {
      document.write("<a href='javascript:updateregistry(" + i + ")'>algorand" + i + "</a>&nbsp;|&nbsp;")
    }
  </script><a href="/graph.html" target="_new">graph</a>]

  <div id="testnettable">
  </div>
  <div id="chaosmonkeysection">
  <b>Chaos Monkey:</b>
  <select id="strategy">
    <option value="0" SELECTED>no monkey</option>
    <option value="1">chaosmonkey1</option>
    <option value="2">chaosmonkey2</option>
    <option value="3">chaosmonkey3</option>
    <option value="4">chaosmonkey4</option>
    <option value="5">chaosmonkey5</option>
  </select>
  <br/>
  <span style="float: right; width:25%">
  <h5>chaosmonkey1: (based on last digit of round)</h5>
  <code>
    case 0: // add 10-30s latency for 1/8 nodes<br/>
    case 1: // do nothing<br/>
    case 2: // turn off voting for 7th node<br/>
    case 3: // turn on voting for 7th node<br/>
    case 4: // turn on ismalicious for 6th node<br/>
    case 5: // turn off ismalicious for 6th node<br/>
    case 6: // turn off voting for first 2 nodes<br/>
    case 7: // turn on voting for first 2 nodes<br/>
    case 8: // turn on ismalicious for first 2 nodes<br/>
    case 9: // turn off ismalicious for first 2 nodes<br/>
  </code>

  <h5>chaosmonkey2:</h5>
  <code>
    even rounds: delay even nodes<br/>
  </code>

  <h5>chaosmonkey3:</h5>
  <code>
    add random latency to ALL nodes<br/>
  </code>

  <h5>chaosmonkey4:</h5>
  <code>
    turn off voting for half nodes for 2 minutes, then turn them on for 2 minutes<br/>
  </code>

  <h5>chaosmonkey5:</h5>
  <code>
    turn off voting for half nodes for 30 minutes, then turn them on for 30 minutes<br/>
  </code>

  </span>
  <textarea rows=30 style="width:70%" id="cmlog"></textarea>
  </div>
</body>

</html>
